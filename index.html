<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>honey.plnt.earth — coo coo coo honey</title>
  <meta name="description" content="Honey Inbox — the nectar space of PLNT.earth. coo coo coo honey." />
  <meta name="theme-color" content="#0B0F19" />

  <!-- Favicon (inline SVG) -->
  <link rel="icon" type="image/svg+xml" href='data:image/svg+xml;utf8,
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96">
    <defs>
      <linearGradient id="g" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#F5D142"/><stop offset="100%" stop-color="#F59E0B"/>
      </linearGradient>
    </defs>
    <rect width="96" height="96" rx="20" fill="#0B0F19"/>
    <path fill="url(#g)" d="M78 26c-9 9-18 13-28 13-8 0-16-4-24-12 3 12 10 19 20 21-6 3-12 4-18 3 7 7 16 10 26 8-6 5-13 8-21 9 13 8 26 8 38 0 12-9 16-23 7-42z"/>
    <path fill="url(#g)" d="M70 70c0 6-10 10-10 16 0 2 2 4 4 4 2 0 4-2 4-4 0-6 2-6 2-16z"/>
  </svg>' />

  <style>
    :root{
      --bg:#0B0F19; --ink:#E5E7EB; --muted:#9CA3AF;
      --line:rgba(255,255,255,.06);
      --panel:rgba(255,255,255,.03);
      --panel-strong:rgba(255,255,255,.05);
      --gold1:#F5D142; --gold2:#F59E0B; --gold3:#D97706;
      --ok:#22c55e; --warn:#f59e0b; --bad:#ef4444;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica,Arial}
    a{color:inherit;text-decoration:none}
    button{font:inherit;color:inherit}
    header{
      position:sticky; top:0; z-index:10;
      display:flex; align-items:center; gap:.75rem; padding:.9rem 1rem;
      backdrop-filter:saturate(110%) blur(4px);
      background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,0));
      border-bottom:1px solid var(--line);
    }
    .dove{width:22px;height:22px;flex:none;filter:drop-shadow(0 1px 2px rgba(0,0,0,.45))}
    .mark{display:flex;align-items:baseline;gap:.35rem;white-space:nowrap;font-weight:800;letter-spacing:.01em}
    .mark .coo{font-size:clamp(16px,2.4vw,20px);opacity:.9}
    .mark .honey{
      font-size:clamp(22px,3.2vw,28px);line-height:1;font-weight:900;
      background:linear-gradient(180deg,var(--gold1),var(--gold2) 55%,var(--gold3));
      -webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;
      text-shadow:0 1px 0 rgba(0,0,0,.35)
    }
    .actions{margin-left:auto;display:flex;gap:.5rem}
    .btn{
      border:1px solid var(--line); background:var(--panel); color:var(--ink);
      border-radius:10px; padding:.45rem .7rem; display:inline-flex; align-items:center; gap:.4rem;
      transition:transform .05s ease, background .2s ease, border-color .2s ease; cursor:pointer
    }
    .btn:active{transform:translateY(1px)}
    .btn.primary{background:var(--panel-strong);border-color:rgba(245,158,11,.35)}
    .btn .dot{width:8px;height:8px;border-radius:999px;background:currentColor;opacity:.8}

    main{max-width:1100px;margin:1rem auto 2rem;padding:0 1rem;display:grid;grid-template-columns:280px 1fr;gap:1rem}
    @media (max-width:980px){ main{grid-template-columns:1fr} }

    .side,.content{background:var(--panel);border:1px solid var(--line);border-radius:14px}
    .side{padding:14px}
    .content{padding:14px}

    /* composer */
    .composer{display:grid;gap:.5rem;background:rgba(255,255,255,.02);border:1px solid var(--line);border-radius:12px;padding:12px}
    .row{display:flex;gap:.6rem;flex-wrap:wrap}
    .input, .tags{
      flex:1 1 auto; min-width:180px; border:1px solid var(--line); background:rgba(255,255,255,.02);
      color:var(--ink); border-radius:10px; padding:.6rem .75rem; outline:none
    }
    .tags{min-width:140px}
    .composer .btn{white-space:nowrap}
    .hint{color:var(--muted);font-size:12px}

    /* controls */
    .controls{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap;margin-top:.75rem}
    .chip{
      border:1px solid var(--line); background:rgba(255,255,255,.02);
      padding:.35rem .6rem; border-radius:999px; cursor:pointer; user-select:none; font-size:13px
    }
    .chip[aria-pressed="true"]{border-color:rgba(245,158,11,.35); background:rgba(245,158,11,.12)}
    .search{flex:1;border:1px solid var(--line);background:rgba(255,255,255,.02);color:var(--ink);border-radius:10px;padding:.5rem .6rem;min-width:160px}

    /* list */
    .list{margin-top:12px;display:grid;gap:10px}
    .card{
      border:1px solid var(--line); background:rgba(255,255,255,.02); border-radius:12px; padding:12px; display:grid; gap:8px
    }
    .meta{display:flex;align-items:center;gap:.5rem;justify-content:space-between}
    .left{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}
    .pill{font-size:11px; padding:.2rem .45rem; border-radius:999px; border:1px solid var(--line); color:var(--muted)}
    .title{font-weight:700}
    .text{white-space:pre-wrap;line-height:1.45}
    .ops{display:flex;gap:.4rem;flex-wrap:wrap}
    .small{font-size:12px; color:var(--muted)}
    .star{color:#facc15}
    .archived .title{opacity:.7;text-decoration:line-through}
    .empty{border:1px dashed var(--line);border-radius:12px;padding:16px;text-align:center;color:var(--muted);margin-top:12px}

    /* golden aura */
    .golden .content{box-shadow:0 0 24px rgba(245,158,11,.2), inset 0 0 0 1px rgba(245,158,11,.25)}
  </style>
</head>
<body>
  <header>
    <svg class="dove" viewBox="0 0 96 96" aria-hidden="true">
      <defs><linearGradient id="wing" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="#F5D142"/><stop offset="100%" stop-color="#F59E0B"/></linearGradient></defs>
      <path fill="url(#wing)" d="M78 26c-9 9-18 13-28 13-8 0-16-4-24-12 3 12 10 19 20 21-6 3-12 4-18 3 7 7 16 10 26 8-6 5-13 8-21 9 13 8 26 8 38 0 12-9 16-23 7-42z"/>
    </svg>
    <a class="mark" href="/">
      <span class="coo">coo coo coo</span>
      <span class="honey">HONEY</span>
    </a>
    <div class="actions">
      <button class="btn primary" id="exportBtn" aria-label="Export inbox">
        <span class="dot" style="background:#F59E0B"></span> Export
      </button>
      <button class="btn" id="importBtn" aria-label="Import inbox">Import</button>
      <input type="file" id="importFile" accept="application/json" hidden />
    </div>
  </header>

  <main>
    <!-- Sidebar -->
    <aside class="side" aria-label="Filters">
      <div class="composer" id="composer">
        <input id="title" class="input" placeholder="Title (optional)" maxlength="140" />
        <textarea id="body" class="input" rows="3" placeholder="Drop sweet notes, links, ideas…" maxlength="5000"></textarea>
        <div class="row">
          <input id="tags" class="tags" placeholder="tags (comma or #tag #tag)" />
          <button id="add" class="btn primary" aria-label="Add to Honey Inbox">Add to Inbox</button>
        </div>
        <div class="hint">Tips: use <b>#tags</b>, paste links, press <b>⌘/Ctrl+Enter</b> to add.</div>
      </div>

      <div class="controls" style="margin-top:12px">
        <button class="chip" id="showAll" aria-pressed="true">All</button>
        <button class="chip" id="showOpen" aria-pressed="false">Open</button>
        <button class="chip" id="showStar" aria-pressed="false">Starred</button>
        <button class="chip" id="showArch" aria-pressed="false">Archived</button>
        <input class="search" id="q" placeholder="Search…" />
      </div>

      <div style="margin-top:10px">
        <div class="small">Quick Actions</div>
        <div class="controls" style="margin-top:6px">
          <button class="chip" id="clearAll" title="Clear inbox (keeps backup export)">Clear</button>
          <button class="chip" id="backup" title="Make backup (downloads JSON)">Backup</button>
        </div>
      </div>
    </aside>

    <!-- Content -->
    <section class="content" aria-label="Honey Inbox">
      <div class="list" id="list"></div>
      <div class="empty" id="empty" hidden>Empty jar. Add something sweet.</div>
    </section>
  </main>

  <footer style="opacity:.7;font-size:12px;text-align:center;margin:2rem 0">© PLNT.earth · honey.plnt.earth</footer>

  <script>
    (function () {
      var KEY = "honey_inbox_v1";
      var body = document.body;

      var el = {
        title: document.getElementById("title"),
        body: document.getElementById("body"),
        tags: document.getElementById("tags"),
        add: document.getElementById("add"),
        list: document.getElementById("list"),
        empty: document.getElementById("empty"),
        q: document.getElementById("q"),
        showAll: document.getElementById("showAll"),
        showOpen: document.getElementById("showOpen"),
        showStar: document.getElementById("showStar"),
        showArch: document.getElementById("showArch"),
        exportBtn: document.getElementById("exportBtn"),
        importBtn: document.getElementById("importBtn"),
        importFile: document.getElementById("importFile"),
        clearAll: document.getElementById("clearAll"),
        backup: document.getElementById("backup")
      };

      var state = {
        items: load(),
        filter: "all",
        q: ""
      };

      function load() {
        try {
          var raw = localStorage.getItem(KEY);
          if (!raw) return [];
          var data = JSON.parse(raw);
          if (Array.isArray(data)) return data;
        } catch (e) {}
        return [];
      }

      function save() {
        try { localStorage.setItem(KEY, JSON.stringify(state.items)); } catch (e) {}
      }

      function uid() {
        return "hny_" + Math.random().toString(36).slice(2, 9) + Date.now().toString(36);
      }

      function parseTags(input) {
        var t = (input || "").trim();
        if (!t) return [];
        var parts = t
          .replace(/#/g, " #")        // split glued hashtags
          .split(/[, ]+/)
          .map(function (s) { return s.trim(); })
          .filter(Boolean)
          .map(function (s) { return s[0] === "#" ? s.slice(1) : s; })
          .map(function (s) { return s.toLowerCase(); });
        var seen = {};
        var out = [];
        for (var i = 0; i < parts.length; i++) {
          var p = parts[i];
          if (!seen[p]) { seen[p] = 1; out.push(p); }
        }
        return out.slice(0, 8);
      }

      function addItem() {
        var t = el.title.value.trim();
        var b = el.body.value.trim();
        var g = parseTags(el.tags.value);
        if (!t && !b) return;

        state.items.unshift({
          id: uid(),
          title: t,
          body: b,
          tags: g,
          url: extractURL(b),
          starred: false,
          archived: false,
          createdAt: Date.now(),
          updatedAt: Date.now()
        });
        save();
        render();

        el.title.value = "";
        el.body.value = "";
        el.tags.value = "";
        el.title.focus();
      }

      function extractURL(text) {
        var m = (text || "").match(/https?:\/\/[^\s]+/);
        return m ? m[0] : "";
      }

      function toggle(id, field) {
        for (var i = 0; i < state.items.length; i++) {
          if (state.items[i].id === id) {
            state.items[i][field] = !state.items[i][field];
            state.items[i].updatedAt = Date.now();
            break;
          }
        }
        save();
        render();
      }

      function remove(id) {
        state.items = state.items.filter(function (x) { return x.id !== id; });
        save();
        render();
      }

      function filterItems() {
        var q = state.q.toLowerCase().trim();
        var f = state.filter;
        var arr = state.items.slice();

        if (f === "open") arr = arr.filter(function (x) { return !x.archived; });
        if (f === "star") arr = arr.filter(function (x) { return x.starred; });
        if (f === "arch") arr = arr.filter(function (x) { return x.archived; });

        if (q) {
          arr = arr.filter(function (x) {
            var hay = (x.title + " " + x.body + " " + (x.tags || []).join(" ")).toLowerCase();
            return hay.indexOf(q) !== -1;
          });
        }
        return arr;
      }

      function fmtDate(ts) {
        var d = new Date(ts);
        return d.toLocaleString();
      }

      function pill(text) {
        var span = document.createElement("span");
        span.className = "pill";
        span.textContent = text;
        return span;
      }

      function render() {
        var items = filterItems();
        el.list.innerHTML = "";

        if (!items.length) {
          el.empty.hidden = false;
          return;
        }
        el.empty.hidden = true;

        for (var i = 0; i < items.length; i++) {
          var it = items[i];
          var card = document.createElement("article");
          card.className = "card" + (it.archived ? " archived" : "");
          card.setAttribute("data-id", it.id);

          // meta row
          var meta = document.createElement("div");
          meta.className = "meta";

          var left = document.createElement("div");
          left.className = "left";
          var ttl = document.createElement("div");
          ttl.className = "title";
          ttl.textContent = it.title || (it.body ? (it.body.length > 60 ? it.body.slice(0, 60) + "…" : it.body) : "Untitled");
          left.appendChild(ttl);

          if (it.tags && it.tags.length) {
            for (var k = 0; k < it.tags.length; k++) left.appendChild(pill("#" + it.tags[k]));
          }
          meta.appendChild(left);

          var ops = document.createElement("div");
          ops.className = "ops";

          var aStar = document.createElement("button");
          aStar.className = "btn";
          aStar.innerHTML = it.starred ? "★ Starred" : "☆ Star";
          aStar.setAttribute("aria-pressed", it.starred ? "true" : "false");
          aStar.onclick = (function (id) { return function () { toggle(id, "starred"); }; })(it.id);

          var aArch = document.createElement("button");
          aArch.className = "btn";
          aArch.textContent = it.archived ? "Unarchive" : "Archive";
          aArch.onclick = (function (id) { return function () { toggle(id, "archived"); }; })(it.id);

          var aDel = document.createElement("button");
          aDel.className = "btn";
          aDel.textContent = "Delete";
          aDel.onclick = (function (id) { return function () { remove(id); }; })(it.id);

          ops.appendChild(aStar); ops.appendChild(aArch); ops.appendChild(aDel);
          meta.appendChild(ops);

          // body
          var text = document.createElement("div");
          text.className = "text";
          text.textContent = it.body || "";

          // link row
          var info = document.createElement("div");
          info.className = "small";
          var when = "Added " + fmtDate(it.createdAt);
          if (it.url) {
            var a = document.createElement("a");
            a.href = it.url; a.rel = "noopener noreferrer";
            a.textContent = " · Link";
            info.textContent = when;
            info.appendChild(a);
          } else {
            info.textContent = when;
          }

          card.appendChild(meta);
          if (it.body) card.appendChild(text);
          card.appendChild(info);

          el.list.appendChild(card);
        }
      }

      // Filters
      function setFilter(f) {
        state.filter = f;
        el.showAll.setAttribute("aria-pressed", f === "all" ? "true" : "false");
        el.showOpen.setAttribute("aria-pressed", f === "open" ? "true" : "false");
        el.showStar.setAttribute("aria-pressed", f === "star" ? "true" : "false");
        el.showArch.setAttribute("aria-pressed", f === "arch" ? "true" : "false");
        render();
      }

      // Import/Export
      function downloadBlob(name, dataStr) {
        var blob = new Blob([dataStr], { type: "application/json" });
        var url = URL.createObjectURL(blob);
        var a = document.createElement("a");
        a.href = url; a.download = name; document.body.appendChild(a); a.click();
        a.remove(); URL.revokeObjectURL(url);
      }

      function doExport() {
        var data = JSON.stringify(state.items, null, 2);
        downloadBlob("honey-inbox-backup.json", data);
      }

      function doBackup() {
        var data = JSON.stringify(state.items, null, 2);
        downloadBlob("honey-inbox-backup-" + Date.now() + ".json", data);
      }

      function doImport(file) {
        var reader = new FileReader();
        reader.onload = function () {
          try {
            var data = JSON.parse(reader.result || "[]");
            if (Array.isArray(data)) {
              state.items = data;
              save();
              render();
            }
          } catch (e) {}
        };
        reader.readAsText(file);
      }

      // Events
      el.add.onclick = addItem;
      el.title.addEventListener("keydown", function (e) {
        if ((e.ctrlKey || e.metaKey) && e.key === "Enter") addItem();
      });
      el.body.addEventListener("keydown", function (e) {
        if ((e.ctrlKey || e.metaKey) && e.key === "Enter") addItem();
      });

      el.q.oninput = function () { state.q = el.q.value || ""; render(); };
      el.showAll.onclick = function () { setFilter("all"); };
      el.showOpen.onclick = function () { setFilter("open"); };
      el.showStar.onclick = function () { setFilter("star"); };
      el.showArch.onclick = function () { setFilter("arch"); };

      el.exportBtn.onclick = function () { doExport(); };
      el.backup.onclick = function () { doBackup(); };
      el.importBtn.onclick = function () { el.importFile.click(); };
      el.importFile.onchange = function () {
        var f = el.importFile.files && el.importFile.files[0];
        if (f) doImport(f);
        el.importFile.value = "";
      };

      el.clearAll.onclick = function () {
        var sure = confirm("Clear all items? This cannot be undone.");
        if (!sure) return;
        state.items = [];
        save();
        render();
      };

      // Golden Mode easter egg
      (function () {
        var seq = "coo coo coo honey";
        var buf = "";
        document.addEventListener("keydown", function (e) {
          if (e.key && e.key.length === 1) {
            buf += e.key.toLowerCase();
            if (buf.length > seq.length) buf = buf.slice(-seq.length);
            if (buf === seq) { body.classList.toggle("golden"); }
          } else if (e.key === "Escape") {
            body.classList.remove("golden");
          }
        }, { passive: true });
      })();

      // First render
      render();
    })();
  </script>
</body>
</html>
